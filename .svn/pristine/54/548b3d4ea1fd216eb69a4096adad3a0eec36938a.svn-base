<#@ template language="C#v3.5" hostspecific="True" #>
<#@include file="..\T4\OutputHelper.ttinclude" #>
<# var manager = Manager.Create(Host, GenerationEnvironment); #>
<#@ include file="..\T4\SQLServer.ttinclude" #>
<#  var tables = LoadTables(); #>
<# manager.StartHeader(); #>
// Code generated by a template
using System;
using PetaPoco;

namespace <#=Namespace#>
{
<# manager.EndBlock(); #>
<#  foreach(Table tbl in tables){
   manager.StartNewFile(String.Format("{0}Model.cs", ToTitleCase(tbl.ClassName))); #>
        
	/// <summary>
    /// A class which represents the <#=tbl.Name#> table in the <#=DatabaseName#> Database.    
    /// </summary>
	[TableName("<#=tbl.ClassName#>")]
    [PrimaryKey("<#=tbl.PrimaryKey#>")]
    [ExplicitColumns]
	public class <#=ToTitleCase(tbl.ClassName)#>Model
	{   
<#      foreach(var col in tbl.Columns){
			if (tbl.ClassName == col.CleanName)
			{
				col.CleanName += "Col";
			}
#>	
		private <#=col.SysType#><#=CheckNullable(col)#> _<#=ToTitleCase(col.CleanName)#>;
		[Column("<#=col.CleanName#>")]
		public <#=col.SysType#><#=CheckNullable(col)#> <#=ToTitleCase(col.CleanName)#> { 
		    get{
		        return _<#=ToTitleCase(col.CleanName)#>;
		    } 
		    set{		        
                this._<#=ToTitleCase(col.CleanName)#> = value;                
		    }
		}
<#      }#>		
	}   

<# manager.EndBlock();
}
#>

<# manager.StartFooter(); #>
}
<# manager.EndBlock(); #>
 
<# manager.Process(true); #>